<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="transcript.css" type="text/css">
	<script>
        var autoScrollEnabled = true
        function setAutoScrollEnabled(enabled) {
            controller.jsLog("setAutoScrollEnabled: "+enabled)
            
            autoScrollEnabled = enabled
        }
        function getAutoScrollEnabled() {
            return autoScrollEnabled
        }
    
        function setFontSize(size) {
            controller.jsLog("setFontSize: "+size)
            
            document.body.style.fontSize = size+"px"
        }
    
        function setTextColor(color) {
            controller.jsLog("setTextColor: "+color)
            
            var links = document.getElementsByTagName("a")
            for (var i = 0; i < links.length; i++) {
                links[i].style.color = "#"+color
            }
        }
    
        function setBackgroundColor(color) {
            controller.jsLog("setBackgroundColor: "+color)
            
            document.body.style.backgroundColor = "#"+color
        }
    
        function setFontName(newName) {
            controller.jsLog("setFontName: "+newName)
            
            document.body.style.fontFamily = newName
        }
    
        function highlightLineWithTimecode(timecode) {
            var active = document.querySelector(".active")
            if (active) active.className = ""
            
            var target = document.querySelector('a[data-timecode="'+timecode+'"]')
            target.className = "active"
            
            if (autoScrollEnabled) scrollTo(0, target.offsetTop-innerHeight/2-target.offsetHeight/2+44)
        }
    
        function filterLinesByTerm(term) {
            var lines = document.getElementsByTagName('a')
            for (var i = 0; i < lines.length; i++) {
                var a = lines[i]
                
                a.style.display = "block"
                if (term == "" || typeof(term) == "undefined") continue;
                
                if (!a.innerText.match(term)) {
                    a.style.display = "none"
                }
            }
        }
	</script>
</head>
<body>
	%@
</body>
</html>